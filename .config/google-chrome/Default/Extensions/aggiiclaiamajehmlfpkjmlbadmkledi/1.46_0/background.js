!function(t){var e={};function l(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=e,l.d=function(t,e,r){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(r,n,function(e){return t[e]}.bind(null,n));return r},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l(l.s=3)}([function(t,e,l){"use strict";e.a={except_urls:function(t){if(t instanceof Array&&(localStorage.except_urls=JSON.stringify(t)),localStorage.except_urls)try{return JSON.parse(localStorage.except_urls)}catch(t){return localStorage.except_urls.split(",")}return[]},only_urls:function(t){if(t instanceof Array&&(localStorage.only_urls=JSON.stringify(t)),localStorage.only_urls)try{return JSON.parse(localStorage.only_urls)}catch(t){return localStorage.only_urls.split(",")}return[]},target_lang:function(t){return t&&(localStorage.target_lang=t),localStorage.target_lang},from_lang:function(t){return t&&(localStorage.from_lang=t),localStorage.from_lang||"auto"},reverse_lang:function(t){return arguments.length>0&&(localStorage.reverse_lang=t),localStorage.reverse_lang},word_key_only:function(t){return null!=t&&(localStorage.word_key_only=t),parseInt(localStorage.word_key_only)},selection_key_only:function(t){return null!=t&&(localStorage.selection_key_only=t),parseInt(localStorage.selection_key_only)},tts:function(t){return null!=t&&(localStorage.tts=t),parseInt(localStorage.tts)},tts_key:function(t){return null!=t&&(localStorage.tts_key=t),localStorage.tts_key||"ctrl"},translate_by:function(t){return"click"!=t&&"point"!=t||(localStorage.translate_by=t),localStorage.translate_by||"click"},delay:function(t){return null!=t&&!isNaN(parseFloat(t))&&isFinite(t)&&(localStorage.delay=t),null==localStorage.delay?700:parseInt(localStorage.delay)},do_not_show_oops:function(t){return null!=t&&(localStorage.do_not_show_oops=t),parseInt(localStorage.do_not_show_oops)},popup_show_trigger:function(t){return null!=t&&(localStorage.popup_show_trigger=t),localStorage.popup_show_trigger||"alt"},show_from_lang:function(t){return void 0!==t&&(localStorage.show_from_lang=t),void 0===localStorage.show_from_lang||!!parseInt(localStorage.show_from_lang)}}},function(t,e,l){"use strict";e.a={af:{label:"Afrikaans",direction:"ltr"},sq:{label:"Albanian",direction:"ltr"},ar:{label:"Arabic",direction:"rtl"},hy:{label:"Armenian",direction:"ltr"},az:{label:"Azerbaijani",direction:"ltr"},eu:{label:"Basque",direction:"ltr"},be:{label:"Belarusian",direction:"ltr"},bn:{label:"Bengali",direction:"ltr"},bg:{label:"Bulgarian",direction:"ltr"},ca:{label:"Catalan",direction:"ltr"},"zh-CN":{label:"Chinese (Simplified)",direction:"ltr"},"zh-TW":{label:"Chinese (Traditional)",direction:"ltr"},hr:{label:"Croatian",direction:"ltr"},cs:{label:"Czech",direction:"ltr"},da:{label:"Danish",direction:"ltr"},nl:{label:"Dutch",direction:"ltr"},en:{label:"English",direction:"ltr"},eo:{label:"Esperanto",direction:"ltr"},et:{label:"Estonian",direction:"ltr"},tl:{label:"Filipino",direction:"ltr"},fi:{label:"Finnish",direction:"ltr"},fr:{label:"French",direction:"ltr"},gl:{label:"Galician",direction:"ltr"},ka:{label:"Georgian",direction:"ltr"},de:{label:"German",direction:"ltr"},el:{label:"Greek",direction:"ltr"},gu:{label:"Gujarati",direction:"ltr"},ht:{label:"Haitian (Creole)",direction:"ltr"},iw:{label:"Hebrew",direction:"rtl"},hi:{label:"Hindi",direction:"ltr"},hu:{label:"Hungarian",direction:"ltr"},is:{label:"Icelandic",direction:"ltr"},id:{label:"Indonesian",direction:"ltr"},ga:{label:"Irish",direction:"ltr"},it:{label:"Italian",direction:"ltr"},ja:{label:"Japanese",direction:"ltr"},kn:{label:"Kannada",direction:"ltr"},ko:{label:"Korean",direction:"ltr"},la:{label:"Latin",direction:"ltr"},lv:{label:"Latvian",direction:"ltr"},lt:{label:"Lithuanian",direction:"ltr"},mk:{label:"Macedonian",direction:"ltr"},ms:{label:"Malay",direction:"ltr"},mt:{label:"Maltese",direction:"ltr"},no:{label:"Norwegian",direction:"ltr"},fa:{label:"Persian",direction:"rtl"},pl:{label:"Polish",direction:"ltr"},pt:{label:"Portuguese",direction:"ltr"},ro:{label:"Romanian",direction:"ltr"},ru:{label:"Russian",direction:"ltr"},sr:{label:"Serbian",direction:"ltr"},sk:{label:"Slovak",direction:"ltr"},sl:{label:"Slovenian",direction:"ltr"},es:{label:"Spanish",direction:"ltr"},sw:{label:"Swahili",direction:"ltr"},sv:{label:"Swedish",direction:"ltr"},ta:{label:"Tamil",direction:"ltr"},te:{label:"Telugu",direction:"ltr"},th:{label:"Thai",direction:"ltr"},tr:{label:"Turkish",direction:"ltr"},uk:{label:"Ukrainian",direction:"ltr"},ur:{label:"Urdu",direction:"rtl"},vi:{label:"Vietnamese",direction:"ltr"},cy:{label:"Welsh",direction:"ltr"},yi:{label:"Yiddish",direction:"rtl"}}},function(t,e,l){"use strict";var r=l(1);const n={modifierKeys:{16:"shift",17:"ctrl",18:"alt",224:"meta",91:"command",93:"command",13:"Return"},deserialize:function(t){let e;try{e=JSON.parse(t)}catch(l){if(!l.toString().match(/SyntaxError/))throw l;e=t}return e},formatTranslation:function(t,e,l,a){let o="",i="";"rtl"==e&&(i=" rtl"),t instanceof Array?t.forEach(function(t){const e=t.pos?"<strong>"+t.pos+"</strong>: ":"",l=t.meanings.slice(0,5).join(", ")+(t.meanings.length>5?"...":"");o=o+'<div class="pos_translation '+i+'">'+e+l+"</div>"}):o='<div class="pos_translation '+i+'">'+n.escape_html(t)+"</div>";const c=r.a[l];return c&&a.show_from_lang&&(o+=`\n      <div class="from_lang ${i}">\n        <strong>translated from:</strong>\n        <span> ${c.label}</span>\n      </div>\n    `),o},escape_html:function(t){return t.replace(XRegExp("(<|>|&)","g"),function(t,e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}})},regexp_escape:function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}};e.a=n},function(t,e,l){"use strict";l.r(e);var r=l(0),n=l(2);const a=[];a.push(["_setAccount","UA-46863240-1"]),a.push(["_trackPageview"]);const o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://ssl.google-analytics.com/ga.js";const i=document.getElementsByTagName("script")[0];function c(t,e,l,o,i,c){let s;const d={tl:l};var u,_;console.log("raw_translation: ",t),!t.dict&&!t.sentences||!t.dict&&(u=t.sentences,_=(_=e).replace(/^ *| *$/g,""),u[0].trans.match(new RegExp(n.a.regexp_escape(_),"i")))?(d.succeeded=!1,s=r.a.do_not_show_oops()?"":"Oops.. No translation found."):(d.succeeded=!0,d.word=e,s=[],t.dict?t.dict.forEach(function(t){s.push({pos:t.pos,meanings:t.terms})}):(t.sentences.forEach(function(t){s.push(t.trans)}),s=s.join(" ")),d.sl=t.src),s instanceof String||(s=JSON.stringify(s)),d.translation=s,$.extend(o,d),a.push(["_trackEvent",c,d.sl,d.tl]),console.log("response: ",d),i(d)}i.parentNode.insertBefore(o,i);const s={};chrome.extension.onRequest.addListener(function(t,e,l){const n=r.a.except_urls();switch(t.handler){case"get_last_tat_sl_tl":console.log("get_last_tat_sl_tl"),l({last_tl:localStorage.last_tat_tl,last_sl:localStorage.last_tat_sl});break;case"get_options":l({options:JSON.stringify({except_urls:r.a.except_urls(),only_urls:r.a.only_urls(),target_lang:r.a.target_lang(),reverse_lang:r.a.reverse_lang(),delay:r.a.delay(),word_key_only:r.a.word_key_only(),selection_key_only:r.a.selection_key_only(),tts:r.a.tts(),tts_key:r.a.tts_key(),popup_show_trigger:r.a.popup_show_trigger(),translate_by:r.a.translate_by(),show_from_lang:r.a.show_from_lang()})});break;case"translate":console.log("received to translate: "+t.word),chrome.tabs.detectLanguage(null,function(e){let n,a;if(t.tl&&t.sl)localStorage.last_tat_tl=t.tl,localStorage.last_tat_sl=t.sl,n=t.sl,a=t.tl;else{const t=function(t){const e={};return r.a.target_lang()==t&&r.a.reverse_lang()?(e.tl=r.a.reverse_lang(),e.sl=r.a.target_lang(),console.log("reverse translate into: ",{tl:e.tl,sl:e.sl})):(e.tl=r.a.target_lang(),e.sl=r.a.from_lang(),console.log("normal translate into:",{tl:e.tl,sl:e.sl})),e}(e);n=t.sl,a=t.tl}!function(t,e,l,r,n,a,o){const i={url:"https://clients5.google.com/translate_a/t?client=dict-chrome-ex",data:{q:t,sl:e,tl:l},dataType:"json",success:function(e){n(e,t,l,r,a,o)},error:function(t,e,l){console.log({e:l,xhr:t})}};$.ajax(i)}(t.word,n,a,s,c,l,r.a.translate_by())});break;case"tts":if(s.succeeded){console.log("tts: "+s.word+", sl: "+s.sl),a.push(["_trackEvent","tts",s.sl,s.tl]);const t=new SpeechSynthesisUtterance;t.lang=s.sl,t.text=s.word,t.rate=.7,speechSynthesis.speak(t)}l({});break;case"setIcon":chrome.browserAction.setIcon({path:t.disabled?"to_bw_38.png":"to_38.png"});break;case"toggle_disable_on_this_page":t.disable_on_this_page?n.find(e=>e.match(t.current_url))||r.a.except_urls([t.current_url,...n]):n.find(e=>e.match(t.current_url))&&r.a.except_urls(n.filter(e=>!e.match(t.current_url)));break;default:console.error("Unknown handler"),l({})}}),chrome.browserAction.onClicked.addListener(function(t){chrome.tabs.sendMessage(t.id,"open_type_and_translate")}),chrome.runtime.onInstalled.addListener(function(t){"install"==t.reason&&chrome.tabs.create({url:chrome.extension.getURL("options.html")})}),chrome.commands.onCommand.addListener(function(t){switch(t){case"copy-translation-to-clipboard":chrome.tabs.query({active:!0},([t])=>{chrome.tabs.sendMessage(t.id,"copy-translation-to-clipboard")});break;default:console.log("Unknown command %s",t)}})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbGliL29wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbGliL2xhbmd1YWdlcy5qcyIsIndlYnBhY2s6Ly8vLi9saWIvdHJhbnNvdmVyX3V0aWxzLmpzIiwid2VicGFjazovLy8uL2JhY2tncm91bmQuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiZXhjZXB0X3VybHMiLCJ1cmxzIiwiQXJyYXkiLCJsb2NhbFN0b3JhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwicGFyc2UiLCJlIiwic3BsaXQiLCJvbmx5X3VybHMiLCJ0YXJnZXRfbGFuZyIsImxhbmciLCJmcm9tX2xhbmciLCJyZXZlcnNlX2xhbmciLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ3b3JkX2tleV9vbmx5IiwiYXJnIiwidW5kZWZpbmVkIiwicGFyc2VJbnQiLCJzZWxlY3Rpb25fa2V5X29ubHkiLCJ0dHMiLCJ0dHNfa2V5IiwidHJhbnNsYXRlX2J5IiwiZGVsYXkiLCJtcyIsImlzTmFOIiwicGFyc2VGbG9hdCIsImlzRmluaXRlIiwiZG9fbm90X3Nob3dfb29wcyIsInBvcHVwX3Nob3dfdHJpZ2dlciIsInNob3dfZnJvbV9sYW5nIiwiYWYiLCJsYWJlbCIsImRpcmVjdGlvbiIsInNxIiwiYXIiLCJoeSIsImF6IiwiZXUiLCJiZSIsImJuIiwiYmciLCJjYSIsInpoLUNOIiwiemgtVFciLCJociIsImNzIiwiZGEiLCJubCIsImVuIiwiZW8iLCJldCIsInRsIiwiZmkiLCJmciIsImdsIiwia2EiLCJkZSIsImVsIiwiZ3UiLCJodCIsIml3IiwiaGkiLCJodSIsImlzIiwiaWQiLCJnYSIsIml0IiwiamEiLCJrbiIsImtvIiwibGEiLCJsdiIsImx0IiwibWsiLCJtdCIsIm5vIiwiZmEiLCJwbCIsInB0Iiwicm8iLCJydSIsInNyIiwic2siLCJzbCIsImVzIiwic3ciLCJzdiIsInRhIiwidGUiLCJ0aCIsInRyIiwidWsiLCJ1ciIsInZpIiwiY3kiLCJ5aSIsIl9sYW5ndWFnZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIlRyYW5zT3ZlciIsIjE2IiwiMTciLCIxOCIsIjIyNCIsIjkxIiwiOTMiLCIxMyIsInRleHQiLCJyZXMiLCJ0b1N0cmluZyIsIm1hdGNoIiwidHJhbnNsYXRpb24iLCJ0ZXh0RGlyZWN0aW9uIiwib3B0aW9ucyIsImZvcm1hdHRlZF90cmFuc2xhdGlvbiIsInJ0bCIsImZvckVhY2giLCJwb3NfYmxvY2siLCJmb3JtYXR0ZWRfcG9zIiwicG9zIiwiZm9ybWF0dGVkX21lYW5pbmdzIiwibWVhbmluZ3MiLCJzbGljZSIsImpvaW4iLCJlc2NhcGVfaHRtbCIsImZyb21MYW5nIiwiVHJhbnNPdmVyTGFuZ3VhZ2VzIiwicmVwbGFjZSIsIlhSZWdFeHAiLCIkMCIsIiQxIiwiX2xpYl9vcHRpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfbGliX3RyYW5zb3Zlcl91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX2dhcSIsInB1c2giLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiYXN5bmMiLCJzcmMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIm9uX3RyYW5zbGF0aW9uX3Jlc3BvbnNlIiwiZGF0YSIsIndvcmQiLCJsYXN0X3RyYW5zbGF0aW9uIiwic2VuZFJlc3BvbnNlIiwiZ2FfZXZlbnRfbmFtZSIsIm91dHB1dCIsInNlbnRlbmNlcyIsImlucHV0IiwiY29uc29sZSIsImxvZyIsImRpY3QiLCJ0cmFucyIsIlJlZ0V4cCIsInJlZ2V4cF9lc2NhcGUiLCJzdWNjZWVkZWQiLCJPcHRpb25zIiwidGVybXMiLCJTdHJpbmciLCIkIiwiZXh0ZW5kIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImNocm9tZSIsImV4dGVuc2lvbiIsIm9uUmVxdWVzdCIsImFkZExpc3RlbmVyIiwicmVxdWVzdCIsInNlbmRlciIsImhhbmRsZXIiLCJsYXN0X3RsIiwibGFzdF9zbCIsInRhYnMiLCJkZXRlY3RMYW5ndWFnZSIsInRhYl9sYW5nIiwic2x0bCIsImZpZ3VyZU91dFNsVGwiLCJvbnJlc3BvbnNlIiwidXJsIiwicSIsImRhdGFUeXBlIiwic3VjY2VzcyIsImVycm9yIiwieGhyIiwic3RhdHVzIiwiYWpheCIsInRyYW5zbGF0ZSIsIm1zZyIsIlNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSIsInJhdGUiLCJzcGVlY2hTeW50aGVzaXMiLCJzcGVhayIsImJyb3dzZXJBY3Rpb24iLCJzZXRJY29uIiwicGF0aCIsImRpc2FibGVkIiwiZGlzYWJsZV9vbl90aGlzX3BhZ2UiLCJmaW5kIiwidSIsImN1cnJlbnRfdXJsIiwiZmlsdGVyIiwib25DbGlja2VkIiwidGFiIiwic2VuZE1lc3NhZ2UiLCJydW50aW1lIiwib25JbnN0YWxsZWQiLCJkZXRhaWxzIiwicmVhc29uIiwiZ2V0VVJMIiwiY29tbWFuZHMiLCJvbkNvbW1hbmQiLCJjb21tYW5kIiwicXVlcnkiLCJhY3RpdmUiLCJhY3RpdmVUYWIiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFB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QU8sQ0FBQzhMLElBQUtmLE9BQU9DLFVBQVU0QyxPQUFPLG9CQUlyRDdDLE9BQU84QyxTQUFTQyxVQUFVNUMsWUFBWSxTQUFTNkMsR0FDN0MsT0FBUUEsR0FDUixJQUFLLGdDQUNIaEQsT0FBT1MsS0FBS3dDLE1BQU0sQ0FBQ0MsUUFBUSxHQUFPLEVBQUVDLE1BQ2xDbkQsT0FBT1MsS0FBSytCLFlBQVlXLEVBQVVySixHQUFJLG1DQUV4QyxNQUNGLFFBQ0VvRixRQUFRQyxJQUFJLHFCQUFzQjZEIiwiZmlsZSI6ImJhY2tncm91bmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGV4Y2VwdF91cmxzOiBmdW5jdGlvbih1cmxzKSB7XG4gICAgaWYgKHVybHMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgbG9jYWxTdG9yYWdlLmV4Y2VwdF91cmxzID0gSlNPTi5zdHJpbmdpZnkodXJscylcbiAgICB9XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5leGNlcHRfdXJscykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmV4Y2VwdF91cmxzKVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpdGxpdHlcbiAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5leGNlcHRfdXJscy5zcGxpdCgnLCcpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbXVxuICB9LFxuICBvbmx5X3VybHM6IGZ1bmN0aW9uKHVybHMpIHtcbiAgICBpZiAodXJscyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uub25seV91cmxzID0gSlNPTi5zdHJpbmdpZnkodXJscylcbiAgICB9XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5vbmx5X3VybHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5vbmx5X3VybHMpXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXRpYml0bGl0eVxuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLm9ubHlfdXJscy5zcGxpdCgnLCcpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbXVxuICB9LFxuICB0YXJnZXRfbGFuZzogZnVuY3Rpb24obGFuZykge1xuICAgIGlmIChsYW5nKSB7XG4gICAgICBsb2NhbFN0b3JhZ2VbJ3RhcmdldF9sYW5nJ10gPSBsYW5nXG4gICAgfVxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2VbJ3RhcmdldF9sYW5nJ11cbiAgfSxcbiAgZnJvbV9sYW5nOiBmdW5jdGlvbihsYW5nKSB7XG4gICAgaWYgKGxhbmcpIHtcbiAgICAgIGxvY2FsU3RvcmFnZVsnZnJvbV9sYW5nJ10gPSBsYW5nXG4gICAgfVxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2VbJ2Zyb21fbGFuZyddIHx8ICdhdXRvJ1xuICB9LFxuICByZXZlcnNlX2xhbmc6IGZ1bmN0aW9uKGxhbmcpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxvY2FsU3RvcmFnZVsncmV2ZXJzZV9sYW5nJ10gPSBsYW5nXG4gICAgfVxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2VbJ3JldmVyc2VfbGFuZyddXG4gIH0sXG4gIHdvcmRfa2V5X29ubHk6IGZ1bmN0aW9uKGFyZykge1xuICAgIGlmIChhcmcgIT0gdW5kZWZpbmVkKSB7XG4gICAgICBsb2NhbFN0b3JhZ2VbJ3dvcmRfa2V5X29ubHknXSA9IGFyZ1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VJbnQoIGxvY2FsU3RvcmFnZVsnd29yZF9rZXlfb25seSddIClcbiAgfSxcbiAgc2VsZWN0aW9uX2tleV9vbmx5OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAoYXJnICE9IHVuZGVmaW5lZCkge1xuICAgICAgbG9jYWxTdG9yYWdlWydzZWxlY3Rpb25fa2V5X29ubHknXSA9IGFyZ1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VJbnQoIGxvY2FsU3RvcmFnZVsnc2VsZWN0aW9uX2tleV9vbmx5J10gKVxuICB9LFxuICB0dHM6IGZ1bmN0aW9uKGFyZykge1xuICAgIGlmIChhcmcgIT0gdW5kZWZpbmVkKSB7XG4gICAgICBsb2NhbFN0b3JhZ2VbJ3R0cyddID0gYXJnXG4gICAgfVxuICAgIHJldHVybiBwYXJzZUludCggbG9jYWxTdG9yYWdlWyd0dHMnXSApXG4gIH0sXG4gIHR0c19rZXk6IGZ1bmN0aW9uKGFyZykge1xuICAgIGlmIChhcmcgIT0gdW5kZWZpbmVkKSB7XG4gICAgICBsb2NhbFN0b3JhZ2VbJ3R0c19rZXknXSA9IGFyZ1xuICAgIH1cbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlWyd0dHNfa2V5J10gfHwgJ2N0cmwnXG4gIH0sXG4gIHRyYW5zbGF0ZV9ieTogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKGFyZyA9PSAnY2xpY2snIHx8IGFyZyA9PSAncG9pbnQnKSB7XG4gICAgICBsb2NhbFN0b3JhZ2UudHJhbnNsYXRlX2J5ID0gYXJnXG4gICAgfVxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UudHJhbnNsYXRlX2J5IHx8ICdjbGljaydcbiAgfSxcbiAgZGVsYXk6IGZ1bmN0aW9uKG1zKSB7XG4gICAgaWYgKG1zICE9IHVuZGVmaW5lZCAmJiAhaXNOYU4ocGFyc2VGbG9hdChtcykpICYmIGlzRmluaXRlKG1zKSkge1xuICAgICAgbG9jYWxTdG9yYWdlWydkZWxheSddID0gbXNcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZVsnZGVsYXknXSA9PSB1bmRlZmluZWQgPyA3MDAgOiBwYXJzZUludChsb2NhbFN0b3JhZ2VbJ2RlbGF5J10pXG4gIH0sXG4gIGRvX25vdF9zaG93X29vcHM6IGZ1bmN0aW9uKGFyZykge1xuICAgIGlmIChhcmcgIT0gdW5kZWZpbmVkKSB7XG4gICAgICBsb2NhbFN0b3JhZ2VbJ2RvX25vdF9zaG93X29vcHMnXSA9IGFyZ1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VJbnQoIGxvY2FsU3RvcmFnZVsnZG9fbm90X3Nob3dfb29wcyddIClcbiAgfSxcbiAgcG9wdXBfc2hvd190cmlnZ2VyOiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAoYXJnICE9IHVuZGVmaW5lZCkge1xuICAgICAgbG9jYWxTdG9yYWdlWydwb3B1cF9zaG93X3RyaWdnZXInXSA9IGFyZ1xuICAgIH1cbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlWydwb3B1cF9zaG93X3RyaWdnZXInXSB8fCAnYWx0J1xuICB9LFxuICBzaG93X2Zyb21fbGFuZzogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsb2NhbFN0b3JhZ2VbJ3Nob3dfZnJvbV9sYW5nJ10gPSBhcmdcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZVsnc2hvd19mcm9tX2xhbmcnXSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IHRydWVcbiAgICAgIDogISFwYXJzZUludChsb2NhbFN0b3JhZ2VbJ3Nob3dfZnJvbV9sYW5nJ10pXG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgJ2FmJzogeyBsYWJlbDogJ0FmcmlrYWFucycsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ3NxJzogeyBsYWJlbDogJ0FsYmFuaWFuJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnYXInOiB7IGxhYmVsOiAnQXJhYmljJywgZGlyZWN0aW9uOiAncnRsJyB9LFxuICAnaHknOiB7IGxhYmVsOiAnQXJtZW5pYW4nLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdheic6IHsgbGFiZWw6ICdBemVyYmFpamFuaScsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ2V1JzogeyBsYWJlbDogJ0Jhc3F1ZScsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ2JlJzogeyBsYWJlbDogJ0JlbGFydXNpYW4nLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdibic6IHsgbGFiZWw6ICdCZW5nYWxpJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnYmcnOiB7IGxhYmVsOiAnQnVsZ2FyaWFuJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnY2EnOiB7IGxhYmVsOiAnQ2F0YWxhbicsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ3poLUNOJzogeyBsYWJlbDogJ0NoaW5lc2UgKFNpbXBsaWZpZWQpJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnemgtVFcnOiB7IGxhYmVsOiAnQ2hpbmVzZSAoVHJhZGl0aW9uYWwpJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnaHInOiB7IGxhYmVsOiAnQ3JvYXRpYW4nLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdjcyc6IHsgbGFiZWw6ICdDemVjaCcsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ2RhJzogeyBsYWJlbDogJ0RhbmlzaCcsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ25sJzogeyBsYWJlbDogJ0R1dGNoJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnZW4nOiB7IGxhYmVsOiAnRW5nbGlzaCcsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ2VvJzogeyBsYWJlbDogJ0VzcGVyYW50bycsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ2V0JzogeyBsYWJlbDogJ0VzdG9uaWFuJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAndGwnOiB7IGxhYmVsOiAnRmlsaXBpbm8nLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdmaSc6IHsgbGFiZWw6ICdGaW5uaXNoJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnZnInOiB7IGxhYmVsOiAnRnJlbmNoJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnZ2wnOiB7IGxhYmVsOiAnR2FsaWNpYW4nLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdrYSc6IHsgbGFiZWw6ICdHZW9yZ2lhbicsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ2RlJzogeyBsYWJlbDogJ0dlcm1hbicsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ2VsJzogeyBsYWJlbDogJ0dyZWVrJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnZ3UnOiB7IGxhYmVsOiAnR3VqYXJhdGknLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdodCc6IHsgbGFiZWw6ICdIYWl0aWFuIChDcmVvbGUpJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnaXcnOiB7IGxhYmVsOiAnSGVicmV3JywgZGlyZWN0aW9uOiAncnRsJyB9LFxuICAnaGknOiB7IGxhYmVsOiAnSGluZGknLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdodSc6IHsgbGFiZWw6ICdIdW5nYXJpYW4nLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdpcyc6IHsgbGFiZWw6ICdJY2VsYW5kaWMnLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdpZCc6IHsgbGFiZWw6ICdJbmRvbmVzaWFuJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnZ2EnOiB7IGxhYmVsOiAnSXJpc2gnLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdpdCc6IHsgbGFiZWw6ICdJdGFsaWFuJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnamEnOiB7IGxhYmVsOiAnSmFwYW5lc2UnLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdrbic6IHsgbGFiZWw6ICdLYW5uYWRhJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAna28nOiB7IGxhYmVsOiAnS29yZWFuJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnbGEnOiB7IGxhYmVsOiAnTGF0aW4nLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdsdic6IHsgbGFiZWw6ICdMYXR2aWFuJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnbHQnOiB7IGxhYmVsOiAnTGl0aHVhbmlhbicsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ21rJzogeyBsYWJlbDogJ01hY2Vkb25pYW4nLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdtcyc6IHsgbGFiZWw6ICdNYWxheScsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ210JzogeyBsYWJlbDogJ01hbHRlc2UnLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdubyc6IHsgbGFiZWw6ICdOb3J3ZWdpYW4nLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdmYSc6IHsgbGFiZWw6ICdQZXJzaWFuJywgZGlyZWN0aW9uOiAncnRsJyB9LFxuICAncGwnOiB7IGxhYmVsOiAnUG9saXNoJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAncHQnOiB7IGxhYmVsOiAnUG9ydHVndWVzZScsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ3JvJzogeyBsYWJlbDogJ1JvbWFuaWFuJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAncnUnOiB7IGxhYmVsOiAnUnVzc2lhbicsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ3NyJzogeyBsYWJlbDogJ1NlcmJpYW4nLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdzayc6IHsgbGFiZWw6ICdTbG92YWsnLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdzbCc6IHsgbGFiZWw6ICdTbG92ZW5pYW4nLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdlcyc6IHsgbGFiZWw6ICdTcGFuaXNoJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAnc3cnOiB7IGxhYmVsOiAnU3dhaGlsaScsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ3N2JzogeyBsYWJlbDogJ1N3ZWRpc2gnLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICd0YSc6IHsgbGFiZWw6ICdUYW1pbCcsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ3RlJzogeyBsYWJlbDogJ1RlbHVndScsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ3RoJzogeyBsYWJlbDogJ1RoYWknLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICd0cic6IHsgbGFiZWw6ICdUdXJraXNoJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAndWsnOiB7IGxhYmVsOiAnVWtyYWluaWFuJywgZGlyZWN0aW9uOiAnbHRyJyB9LFxuICAndXInOiB7IGxhYmVsOiAnVXJkdScsIGRpcmVjdGlvbjogJ3J0bCcgfSxcbiAgJ3ZpJzogeyBsYWJlbDogJ1ZpZXRuYW1lc2UnLCBkaXJlY3Rpb246ICdsdHInIH0sXG4gICdjeSc6IHsgbGFiZWw6ICdXZWxzaCcsIGRpcmVjdGlvbjogJ2x0cicgfSxcbiAgJ3lpJzogeyBsYWJlbDogJ1lpZGRpc2gnLCBkaXJlY3Rpb246ICdydGwnIH1cbn1cbiIsImltcG9ydCBUcmFuc092ZXJMYW5ndWFnZXMgZnJvbSAnLi9sYW5ndWFnZXMnXG5cbmNvbnN0IFRyYW5zT3ZlciA9IHt9XG5cblRyYW5zT3Zlci5tb2RpZmllcktleXMgPSB7XG4gIDE2OiAnc2hpZnQnLCAxNzogJ2N0cmwnLCAxODogJ2FsdCcsIDIyNDogJ21ldGEnLCA5MTogJ2NvbW1hbmQnLCA5MzogJ2NvbW1hbmQnLCAxMzogJ1JldHVybidcbn1cblxuVHJhbnNPdmVyLmRlc2VyaWFsaXplID0gZnVuY3Rpb24odGV4dCkge1xuICBsZXQgcmVzXG5cbiAgdHJ5IHtcbiAgICByZXMgPSBKU09OLnBhcnNlKHRleHQpXG4gIH1cbiAgY2F0Y2ggKGUpIHtcbiAgICAvLyB0aGF0IG1lYW5zIHRleHQgaXMgYSBzdHJpbmcgKGluY2x1ZGluZyBcIlwiKSBhcyBvcHBvc2VkIHRvIGEgc2VyaWFsaXplZCBvYmplY3RcbiAgICBpZiAoZS50b1N0cmluZygpLm1hdGNoKC9TeW50YXhFcnJvci8pKSB7XG4gICAgICByZXMgPSB0ZXh0XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhyb3cgZVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5cblRyYW5zT3Zlci5mb3JtYXRUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uKHRyYW5zbGF0aW9uLCB0ZXh0RGlyZWN0aW9uLCBmcm9tX2xhbmcsIG9wdGlvbnMpIHtcbiAgbGV0IGZvcm1hdHRlZF90cmFuc2xhdGlvbiA9ICcnLFxuICAgIHJ0bCA9ICcnXG5cbiAgaWYgKHRleHREaXJlY3Rpb24gPT0gJ3J0bCcpIHtcbiAgICBydGwgPSAnIHJ0bCdcbiAgfVxuXG4gIGlmICh0cmFuc2xhdGlvbiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgdHJhbnNsYXRpb24uZm9yRWFjaChmdW5jdGlvbihwb3NfYmxvY2spIHtcbiAgICAgIGNvbnN0IGZvcm1hdHRlZF9wb3MgPSBwb3NfYmxvY2sucG9zID8gJzxzdHJvbmc+Jytwb3NfYmxvY2sucG9zKyc8L3N0cm9uZz46ICcgOiAnJ1xuICAgICAgY29uc3QgZm9ybWF0dGVkX21lYW5pbmdzID0gcG9zX2Jsb2NrLm1lYW5pbmdzLnNsaWNlKDAsNSkuam9pbignLCAnKSArICggcG9zX2Jsb2NrLm1lYW5pbmdzLmxlbmd0aCA+IDUgPyAnLi4uJyA6ICcnIClcbiAgICAgIGZvcm1hdHRlZF90cmFuc2xhdGlvbiA9IGZvcm1hdHRlZF90cmFuc2xhdGlvbiArICc8ZGl2IGNsYXNzPVwicG9zX3RyYW5zbGF0aW9uICcgKyBydGwgKyAnXCI+JyArIGZvcm1hdHRlZF9wb3MgKyBmb3JtYXR0ZWRfbWVhbmluZ3MgKyAnPC9kaXY+J1xuICAgIH0pXG4gIH1cbiAgZWxzZSB7XG4gICAgZm9ybWF0dGVkX3RyYW5zbGF0aW9uID0gJzxkaXYgY2xhc3M9XCJwb3NfdHJhbnNsYXRpb24gJyArIHJ0bCArICdcIj4nICsgVHJhbnNPdmVyLmVzY2FwZV9odG1sKHRyYW5zbGF0aW9uKSArICc8L2Rpdj4nXG4gIH1cblxuICBjb25zdCBmcm9tTGFuZyA9IFRyYW5zT3Zlckxhbmd1YWdlc1tmcm9tX2xhbmddXG4gIGlmIChmcm9tTGFuZyAmJiBvcHRpb25zLnNob3dfZnJvbV9sYW5nKSB7XG4gICAgZm9ybWF0dGVkX3RyYW5zbGF0aW9uICs9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJmcm9tX2xhbmcgJHtydGx9XCI+XG4gICAgICAgIDxzdHJvbmc+dHJhbnNsYXRlZCBmcm9tOjwvc3Ryb25nPlxuICAgICAgICA8c3Bhbj4gJHtmcm9tTGFuZy5sYWJlbH08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICBgXG4gIH1cblxuICByZXR1cm4gZm9ybWF0dGVkX3RyYW5zbGF0aW9uXG59XG5cblRyYW5zT3Zlci5lc2NhcGVfaHRtbCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuIHRleHQucmVwbGFjZShYUmVnRXhwKCcoPHw+fCYpJywgJ2cnKSwgZnVuY3Rpb24gKCQwLCAkMSkge1xuICAgIHN3aXRjaCAoJDEpIHtcbiAgICBjYXNlICc8JzogcmV0dXJuICcmbHQ7J1xuICAgIGNhc2UgJz4nOiByZXR1cm4gJyZndDsnXG4gICAgY2FzZSAnJic6IHJldHVybiAnJmFtcDsnXG4gICAgfVxuICB9KVxufVxuXG5UcmFuc092ZXIucmVnZXhwX2VzY2FwZSA9IGZ1bmN0aW9uKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZSgvWy0vXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpXG59XG5cbmV4cG9ydCBkZWZhdWx0IFRyYW5zT3ZlclxuIiwiaW1wb3J0IE9wdGlvbnMgZnJvbSAnLi9saWIvb3B0aW9ucydcbmltcG9ydCBUcmFuc092ZXIgZnJvbSAnLi9saWIvdHJhbnNvdmVyX3V0aWxzJ1xuXG5jb25zdCBfZ2FxID0gW11cbl9nYXEucHVzaChbJ19zZXRBY2NvdW50JywgJ1VBLTQ2ODYzMjQwLTEnXSlcbl9nYXEucHVzaChbJ190cmFja1BhZ2V2aWV3J10pXG5cbmNvbnN0IGdhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JylcbmdhLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0J1xuZ2EuYXN5bmMgPSB0cnVlXG5nYS5zcmMgPSAnaHR0cHM6Ly9zc2wuZ29vZ2xlLWFuYWx5dGljcy5jb20vZ2EuanMnXG5jb25zdCBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdXG5zLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGdhLCBzKVxuXG5mdW5jdGlvbiB0cmFuc2xhdGUod29yZCwgc2wsIHRsLCBsYXN0X3RyYW5zbGF0aW9uLCBvbnJlc3BvbnNlLCBzZW5kUmVzcG9uc2UsIGdhX2V2ZW50X25hbWUpIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICB1cmw6ICdodHRwczovL2NsaWVudHM1Lmdvb2dsZS5jb20vdHJhbnNsYXRlX2EvdD9jbGllbnQ9ZGljdC1jaHJvbWUtZXgnLFxuICAgIGRhdGE6IHtcbiAgICAgIHE6IHdvcmQsXG4gICAgICBzbDogc2wsXG4gICAgICB0bDogdGwsXG4gICAgfSxcbiAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIG9uX3N1Y2Nlc3MoZGF0YSkge1xuICAgICAgb25yZXNwb25zZShkYXRhLCB3b3JkLCB0bCwgbGFzdF90cmFuc2xhdGlvbiwgc2VuZFJlc3BvbnNlLCBnYV9ldmVudF9uYW1lKVxuICAgIH0sXG4gICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlKSB7XG4gICAgICBjb25zb2xlLmxvZyh7ZTogZSwgeGhyOiB4aHJ9KVxuICAgIH1cbiAgfVxuXG4gICQuYWpheChvcHRpb25zKVxufVxuXG5mdW5jdGlvbiBmaWd1cmVPdXRTbFRsKHRhYl9sYW5nKSB7XG4gIGNvbnN0IHJlcyA9IHt9XG5cbiAgaWYgKE9wdGlvbnMudGFyZ2V0X2xhbmcoKSA9PSB0YWJfbGFuZyAmJiBPcHRpb25zLnJldmVyc2VfbGFuZygpKSB7XG4gICAgcmVzLnRsID0gT3B0aW9ucy5yZXZlcnNlX2xhbmcoKVxuICAgIHJlcy5zbCA9IE9wdGlvbnMudGFyZ2V0X2xhbmcoKVxuICAgIGNvbnNvbGUubG9nKCdyZXZlcnNlIHRyYW5zbGF0ZSBpbnRvOiAnLCB7dGw6IHJlcy50bCwgc2w6IHJlcy5zbH0pXG4gIH1cbiAgZWxzZSB7XG4gICAgcmVzLnRsID0gT3B0aW9ucy50YXJnZXRfbGFuZygpXG4gICAgcmVzLnNsID0gT3B0aW9ucy5mcm9tX2xhbmcoKVxuICAgIGNvbnNvbGUubG9nKCdub3JtYWwgdHJhbnNsYXRlIGludG86Jywge3RsOiByZXMudGwsIHNsOiByZXMuc2x9KVxuICB9XG5cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiB0cmFuc2xhdGlvbklzVGhlU2FtZUFzSW5wdXQoc2VudGVuY2VzLCBpbnB1dCkge1xuICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoL14gKnwgKiQvZywgJycpXG4gIHJldHVybiBzZW50ZW5jZXNbMF0udHJhbnMubWF0Y2gobmV3IFJlZ0V4cChUcmFuc092ZXIucmVnZXhwX2VzY2FwZShpbnB1dCksICdpJykpXG59XG5cbmZ1bmN0aW9uIG9uX3RyYW5zbGF0aW9uX3Jlc3BvbnNlKGRhdGEsIHdvcmQsIHRsLCBsYXN0X3RyYW5zbGF0aW9uLCBzZW5kUmVzcG9uc2UsIGdhX2V2ZW50X25hbWUpIHtcbiAgbGV0IG91dHB1dFxuICBjb25zdCB0cmFuc2xhdGlvbiA9IHt0bDogdGx9XG5cbiAgY29uc29sZS5sb2coJ3Jhd190cmFuc2xhdGlvbjogJywgZGF0YSlcblxuICBpZiAoKCFkYXRhLmRpY3QgJiYgIWRhdGEuc2VudGVuY2VzKSB8fCAoIWRhdGEuZGljdCAmJiB0cmFuc2xhdGlvbklzVGhlU2FtZUFzSW5wdXQoZGF0YS5zZW50ZW5jZXMsIHdvcmQpKSkge1xuICAgIHRyYW5zbGF0aW9uLnN1Y2NlZWRlZCA9IGZhbHNlXG5cbiAgICBpZiAoT3B0aW9ucy5kb19ub3Rfc2hvd19vb3BzKCkpIHtcbiAgICAgIG91dHB1dCA9ICcnXG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dCA9ICdPb3BzLi4gTm8gdHJhbnNsYXRpb24gZm91bmQuJ1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0cmFuc2xhdGlvbi5zdWNjZWVkZWQgPSB0cnVlXG4gICAgdHJhbnNsYXRpb24ud29yZCA9IHdvcmRcblxuICAgIG91dHB1dCA9IFtdXG4gICAgaWYgKGRhdGEuZGljdCkgeyAvLyBmdWxsIHRyYW5zbGF0aW9uXG4gICAgICBkYXRhLmRpY3QuZm9yRWFjaChmdW5jdGlvbih0KSB7XG4gICAgICAgIG91dHB1dC5wdXNoKHtwb3M6IHQucG9zLCBtZWFuaW5nczogdC50ZXJtc30pXG4gICAgICB9KVxuICAgIH0gZWxzZSB7IC8vIHNpbmdsZSB3b3JkIG9yIHNlbnRlbmNlKHMpXG4gICAgICBkYXRhLnNlbnRlbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgb3V0cHV0LnB1c2gocy50cmFucylcbiAgICAgIH0pXG4gICAgICBvdXRwdXQgPSBvdXRwdXQuam9pbignICcpXG4gICAgfVxuXG4gICAgdHJhbnNsYXRpb24uc2wgPSBkYXRhLnNyY1xuICB9XG5cbiAgaWYgKCEoIG91dHB1dCBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICBvdXRwdXQgPSBKU09OLnN0cmluZ2lmeShvdXRwdXQpXG4gIH1cblxuICB0cmFuc2xhdGlvbi50cmFuc2xhdGlvbiA9IG91dHB1dFxuXG4gICQuZXh0ZW5kKGxhc3RfdHJhbnNsYXRpb24sIHRyYW5zbGF0aW9uKVxuXG4gIF9nYXEucHVzaChbJ190cmFja0V2ZW50JywgZ2FfZXZlbnRfbmFtZSwgdHJhbnNsYXRpb24uc2wsIHRyYW5zbGF0aW9uLnRsXSlcblxuICBjb25zb2xlLmxvZygncmVzcG9uc2U6ICcsIHRyYW5zbGF0aW9uKVxuICBzZW5kUmVzcG9uc2UodHJhbnNsYXRpb24pXG59XG5cbmNvbnN0IGxhc3RfdHJhbnNsYXRpb24gPSB7fVxuXG5jaHJvbWUuZXh0ZW5zaW9uLm9uUmVxdWVzdC5hZGRMaXN0ZW5lcihmdW5jdGlvbihyZXF1ZXN0LCBzZW5kZXIsIHNlbmRSZXNwb25zZSkge1xuICBjb25zdCBleGNlcHRfdXJscyA9IE9wdGlvbnMuZXhjZXB0X3VybHMoKVxuXG4gIHN3aXRjaCAocmVxdWVzdC5oYW5kbGVyKSB7XG4gIGNhc2UgJ2dldF9sYXN0X3RhdF9zbF90bCc6XG4gICAgY29uc29sZS5sb2coJ2dldF9sYXN0X3RhdF9zbF90bCcpXG4gICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgIGxhc3RfdGw6IGxvY2FsU3RvcmFnZVsnbGFzdF90YXRfdGwnXSxcbiAgICAgIGxhc3Rfc2w6IGxvY2FsU3RvcmFnZVsnbGFzdF90YXRfc2wnXVxuICAgIH0pXG4gICAgYnJlYWtcbiAgY2FzZSAnZ2V0X29wdGlvbnMnOlxuICAgIHNlbmRSZXNwb25zZSh7XG4gICAgICBvcHRpb25zOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGV4Y2VwdF91cmxzOiBPcHRpb25zLmV4Y2VwdF91cmxzKCksXG4gICAgICAgIG9ubHlfdXJsczogT3B0aW9ucy5vbmx5X3VybHMoKSxcbiAgICAgICAgdGFyZ2V0X2xhbmc6IE9wdGlvbnMudGFyZ2V0X2xhbmcoKSxcbiAgICAgICAgcmV2ZXJzZV9sYW5nOiBPcHRpb25zLnJldmVyc2VfbGFuZygpLFxuICAgICAgICBkZWxheTogT3B0aW9ucy5kZWxheSgpLFxuICAgICAgICB3b3JkX2tleV9vbmx5OiBPcHRpb25zLndvcmRfa2V5X29ubHkoKSxcbiAgICAgICAgc2VsZWN0aW9uX2tleV9vbmx5OiBPcHRpb25zLnNlbGVjdGlvbl9rZXlfb25seSgpLFxuICAgICAgICB0dHM6IE9wdGlvbnMudHRzKCksXG4gICAgICAgIHR0c19rZXk6IE9wdGlvbnMudHRzX2tleSgpLFxuICAgICAgICBwb3B1cF9zaG93X3RyaWdnZXI6IE9wdGlvbnMucG9wdXBfc2hvd190cmlnZ2VyKCksXG4gICAgICAgIHRyYW5zbGF0ZV9ieTogT3B0aW9ucy50cmFuc2xhdGVfYnkoKSxcbiAgICAgICAgc2hvd19mcm9tX2xhbmc6IE9wdGlvbnMuc2hvd19mcm9tX2xhbmcoKVxuICAgICAgfSlcbiAgICB9KVxuICAgIGJyZWFrXG4gIGNhc2UgJ3RyYW5zbGF0ZSc6XG4gICAgY29uc29sZS5sb2coJ3JlY2VpdmVkIHRvIHRyYW5zbGF0ZTogJyArIHJlcXVlc3Qud29yZClcblxuICAgIGNocm9tZS50YWJzLmRldGVjdExhbmd1YWdlKG51bGwsIGZ1bmN0aW9uKHRhYl9sYW5nKSB7XG4gICAgICBsZXQgc2wsIHRsXG4gICAgICAvLyBoYWNrOiBwcmVzZW5jZSBvZiByZXF1ZXN0LnRsL3NsIG1lYW5zIHRoaXMgY2FtZSBmcm9tIHBvcHVwIHRyYW5zbGF0ZVxuICAgICAgaWYgKHJlcXVlc3QudGwgJiYgcmVxdWVzdC5zbCkge1xuICAgICAgICBsb2NhbFN0b3JhZ2VbJ2xhc3RfdGF0X3RsJ10gPSByZXF1ZXN0LnRsXG4gICAgICAgIGxvY2FsU3RvcmFnZVsnbGFzdF90YXRfc2wnXSA9IHJlcXVlc3Quc2xcbiAgICAgICAgc2wgPSByZXF1ZXN0LnNsXG4gICAgICAgIHRsID0gcmVxdWVzdC50bFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2x0bCA9IGZpZ3VyZU91dFNsVGwodGFiX2xhbmcpXG4gICAgICAgIHNsID0gc2x0bC5zbFxuICAgICAgICB0bCA9IHNsdGwudGxcbiAgICAgIH1cbiAgICAgIHRyYW5zbGF0ZShyZXF1ZXN0LndvcmQsIHNsLCB0bCwgbGFzdF90cmFuc2xhdGlvbiwgb25fdHJhbnNsYXRpb25fcmVzcG9uc2UsIHNlbmRSZXNwb25zZSwgT3B0aW9ucy50cmFuc2xhdGVfYnkoKSlcbiAgICB9KVxuICAgIGJyZWFrXG4gIGNhc2UgJ3R0cyc6XG4gICAgaWYgKGxhc3RfdHJhbnNsYXRpb24uc3VjY2VlZGVkKSB7XG4gICAgICBjb25zb2xlLmxvZygndHRzOiAnICsgbGFzdF90cmFuc2xhdGlvbi53b3JkICsgJywgc2w6ICcgKyBsYXN0X3RyYW5zbGF0aW9uLnNsKVxuICAgICAgX2dhcS5wdXNoKFsnX3RyYWNrRXZlbnQnLCAndHRzJywgbGFzdF90cmFuc2xhdGlvbi5zbCwgbGFzdF90cmFuc2xhdGlvbi50bF0pXG5cbiAgICAgIGNvbnN0IG1zZyA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UoKVxuICAgICAgbXNnLmxhbmcgPSBsYXN0X3RyYW5zbGF0aW9uLnNsXG4gICAgICBtc2cudGV4dCA9IGxhc3RfdHJhbnNsYXRpb24ud29yZFxuICAgICAgbXNnLnJhdGUgPSAwLjdcbiAgICAgIHNwZWVjaFN5bnRoZXNpcy5zcGVhayhtc2cpXG4gICAgfVxuICAgIHNlbmRSZXNwb25zZSh7fSlcbiAgICBicmVha1xuICBjYXNlICdzZXRJY29uJzpcbiAgICBjaHJvbWUuYnJvd3NlckFjdGlvbi5zZXRJY29uKHtwYXRoOiByZXF1ZXN0LmRpc2FibGVkID8gJ3RvX2J3XzM4LnBuZycgOiAndG9fMzgucG5nJ30pXG4gICAgYnJlYWtcbiAgY2FzZSAndG9nZ2xlX2Rpc2FibGVfb25fdGhpc19wYWdlJzpcbiAgICBpZiAocmVxdWVzdC5kaXNhYmxlX29uX3RoaXNfcGFnZSkge1xuICAgICAgaWYgKCFleGNlcHRfdXJscy5maW5kKHUgPT4gdS5tYXRjaChyZXF1ZXN0LmN1cnJlbnRfdXJsKSkpIHtcbiAgICAgICAgT3B0aW9ucy5leGNlcHRfdXJscyhcbiAgICAgICAgICBbcmVxdWVzdC5jdXJyZW50X3VybCwgLi4uZXhjZXB0X3VybHNdXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGV4Y2VwdF91cmxzLmZpbmQodSA9PiB1Lm1hdGNoKHJlcXVlc3QuY3VycmVudF91cmwpKSkge1xuICAgICAgICBPcHRpb25zLmV4Y2VwdF91cmxzKFxuICAgICAgICAgIGV4Y2VwdF91cmxzLmZpbHRlcih1ID0+ICF1Lm1hdGNoKHJlcXVlc3QuY3VycmVudF91cmwpKVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIGJyZWFrXG4gIGRlZmF1bHQ6XG4gICAgY29uc29sZS5lcnJvcignVW5rbm93biBoYW5kbGVyJylcbiAgICBzZW5kUmVzcG9uc2Uoe30pXG4gIH1cbn0pXG5cbmNocm9tZS5icm93c2VyQWN0aW9uLm9uQ2xpY2tlZC5hZGRMaXN0ZW5lcihmdW5jdGlvbih0YWIpIHtcbiAgY2hyb21lLnRhYnMuc2VuZE1lc3NhZ2UodGFiLmlkLCAnb3Blbl90eXBlX2FuZF90cmFuc2xhdGUnKVxufSlcblxuY2hyb21lLnJ1bnRpbWUub25JbnN0YWxsZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24oZGV0YWlscykge1xuICBpZiAoZGV0YWlscy5yZWFzb24gPT0gJ2luc3RhbGwnKSB7XG4gICAgY2hyb21lLnRhYnMuY3JlYXRlKHt1cmw6IGNocm9tZS5leHRlbnNpb24uZ2V0VVJMKCdvcHRpb25zLmh0bWwnKX0pXG4gIH1cbn0pXG5cbmNocm9tZS5jb21tYW5kcy5vbkNvbW1hbmQuYWRkTGlzdGVuZXIoZnVuY3Rpb24oY29tbWFuZCkge1xuICBzd2l0Y2ggKGNvbW1hbmQpIHtcbiAgY2FzZSAnY29weS10cmFuc2xhdGlvbi10by1jbGlwYm9hcmQnOlxuICAgIGNocm9tZS50YWJzLnF1ZXJ5KHthY3RpdmU6IHRydWV9LCAoW2FjdGl2ZVRhYl0pID0+IHtcbiAgICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKGFjdGl2ZVRhYi5pZCwgJ2NvcHktdHJhbnNsYXRpb24tdG8tY2xpcGJvYXJkJylcbiAgICB9KVxuICAgIGJyZWFrXG4gIGRlZmF1bHQ6XG4gICAgY29uc29sZS5sb2coJ1Vua25vd24gY29tbWFuZCAlcycsIGNvbW1hbmQpXG4gIH1cbn0pXG4iXSwic291cmNlUm9vdCI6IiJ9